<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <title>Kiểm tra số chính phương</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: #f7f7f7;
        }

        .card {
            background: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,.08);
            width: 360px;
            text-align: center;
        }

        input {
            width: 70%;
            padding: 8px;
            margin-right: 6px;
        }

        button {
            padding: 8px 12px;
        }

        #result {
            margin-top: 16px;
            min-height: 24px;
            font-weight: 600;
            color: #222;
        }
    </style>
</head>
<body>
    <div class="card">
        <h3>Kiểm tra số chính phương</h3>
        <div>
            <input id="txtInput" placeholder="Nhập số nguyên" />
            <button id="btnCheck">Kiểm tra</button>
        </div>
        <div id="result"></div>
    </div>

    <script>
    document.getElementById('btnCheck').addEventListener('click', function () {
      const v = encodeURIComponent(document.getElementById('txtInput').value.trim());
      if (v === '') { document.getElementById('result').innerText = 'Vui lòng nhập số.'; return; }

      fetch('./api.aspx?number=' + v)
        .then(res => res.json())
        .then(data => {
          document.getElementById('result').innerText = data.message;
        })
        .catch(err => {
          document.getElementById('result').innerText = 'Lỗi: ' + err;
        });
    });
    </script>
</body>
</html>
